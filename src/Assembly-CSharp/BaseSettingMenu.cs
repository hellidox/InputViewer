using System;
using StrikeCore;
using TMPro;
using UnityEngine;
using UnityEngine.UI;

public abstract class BaseSettingMenu : BaseMenu
{
	protected virtual void Awake()
	{
		this.\u02BD\u02B5\u02BC\u02B8\u02B2\u02C0\u02B7\u02B8\u02B9\u02C0\u02B9 = base.GetComponent<ScrollRect>();
		this.\u02BF\u02B2\u02BF\u02C0\u02BA\u02BB\u02B2\u02C0\u02B3\u02BA\u02BD = base.GetComponentInChildren<Scrollbar>();
		if (this.\u02BD\u02B5\u02BC\u02B8\u02B2\u02C0\u02B7\u02B8\u02B9\u02C0\u02B9 != null && this.\u02BF\u02B2\u02BF\u02C0\u02BA\u02BB\u02B2\u02C0\u02B3\u02BA\u02BD != null)
		{
			this.\u02BD\u02B5\u02BC\u02B8\u02B2\u02C0\u02B7\u02B8\u02B9\u02C0\u02B9.content.SetSizeWithCurrentAnchors(RectTransform.Axis.Vertical, (float)(this.menuStrings.Length + 2) * 80f);
			this.\u02BF\u02B2\u02BF\u02C0\u02BA\u02BB\u02B2\u02C0\u02B3\u02BA\u02BD.size = 7f / (float)this.menuStrings.Length;
		}
	}

	protected override void OnEnable()
	{
		base.OnEnable();
		this.\u02BA\u02B8\u02B4\u02BA\u02BD\u02BA\u02B7\u02C1\u02B8\u02B8\u02BC();
	}

	protected abstract void \u02BA\u02B8\u02B4\u02BA\u02BD\u02BA\u02B7\u02C1\u02B8\u02B8\u02BC();

	protected abstract void \u02B5\u02B8\u02B6\u02B4\u02BB\u02B4\u02BF\u02BE\u02B5\u02BE\u02C1();

	protected abstract void \u02BA\u02BB\u02B5\u02B6\u02B3\u02BD\u02BA\u02BC\u02B2\u02BB\u02B5();

	public abstract void SetBools();

	public override void \u02B3\u02BC\u02BA\u02C0\u02C0\u02B8\u02B2\u02B4\u02B3\u02C1\u02B8()
	{
		if (this.\u02BE\u02BA\u02B2\u02BB\u02BA\u02B3\u02B2\u02B2\u02B6\u02BF\u02B3 != null)
		{
			this.\u02B5\u02B8\u02B6\u02B4\u02BB\u02B4\u02BF\u02BE\u02B5\u02BE\u02C1();
			this.\u02BE\u02BA\u02B2\u02BB\u02BA\u02B3\u02B2\u02B2\u02B6\u02BF\u02B3 = null;
			this.\u02B9\u02B8\u02C0\u02B7\u02BA\u02B3\u02BB\u02C0\u02B3\u02C1\u02B8();
		}
		else
		{
			this.\u02C1\u02BB\u02BD\u02B3\u02B9\u02BC\u02BD\u02BF\u02BF\u02B3\u02B3();
			this.\u02B8\u02B6\u02B9\u02BF\u02BF\u02BD\u02B6\u02B7\u02B3\u02BA\u02B9(false, !this.\u02BD\u02C0\u02B2\u02B2\u02BD\u02BD\u02C0\u02B7\u02B4\u02B3\u02C0);
			this.\u02C1\u02B6\u02B7\u02BC\u02B3\u02BE\u02B3\u02C1\u02B4\u02B2\u02BC.enabled = true;
			this.\u02C1\u02B6\u02B7\u02BC\u02B3\u02BE\u02B3\u02C1\u02B4\u02B2\u02BC.gameObject.SetActive(true);
		}
		this.backgroundObjects[base.\u02BF\u02B6\u02B5\u02BF\u02BD\u02BF\u02B4\u02B3\u02B8\u02BE\u02BC].sprite = this.\u02BD\u02BD\u02B6\u02C1\u02B6\u02BD\u02BA\u02B8\u02BE\u02BF\u02B9;
	}

	public override void \u02BA\u02BC\u02C1\u02BE\u02B6\u02B4\u02B9\u02B2\u02B3\u02BD\u02B4()
	{
		if (this.\u02B7\u02B6\u02B7\u02B8\u02B7\u02B6\u02B5\u02BD\u02C1\u02B9\u02BC == null)
		{
			return;
		}
		this.\u02B7\u02B6\u02B7\u02B8\u02B7\u02B6\u02B5\u02BD\u02C1\u02B9\u02BC.Reset();
		this.\u02BA\u02BB\u02B5\u02B6\u02B3\u02BD\u02BA\u02BC\u02B2\u02BB\u02B5();
	}

	public override void \u02C1\u02B3\u02BC\u02B6\u02BD\u02B6\u02BF\u02B7\u02BB\u02B5\u02BB()
	{
		if (this.\u02BE\u02BA\u02B2\u02BB\u02BA\u02B3\u02B2\u02B2\u02B6\u02BF\u02B3 == null)
		{
			this.\u02BC\u02B7\u02C0\u02B6\u02C1\u02B9\u02BB\u02B2\u02BD\u02B3\u02B8 = true;
			this.\u02BE\u02B4\u02BD\u02B6\u02B5\u02B7\u02BB\u02BE\u02B3\u02B5\u02B9(this.\u02B7\u02BE\u02BD\u02BF\u02B7\u02BE\u02B4\u02B4\u02BA\u02B9\u02C1);
			this.\u02B4\u02B7\u02B3\u02BF\u02B4\u02BF\u02B9\u02C1\u02B6\u02B2\u02C0 = true;
		}
		else
		{
			GameSetting u02B7_u02B6_u02B7_u02B8_u02B7_u02B6_u02B5_u02BD_u02C1_u02B9_u02BC = this.\u02B7\u02B6\u02B7\u02B8\u02B7\u02B6\u02B5\u02BD\u02C1\u02B9\u02BC;
			if (u02B7_u02B6_u02B7_u02B8_u02B7_u02B6_u02B5_u02BD_u02C1_u02B9_u02BC != null)
			{
				u02B7_u02B6_u02B7_u02B8_u02B7_u02B6_u02B5_u02BD_u02C1_u02B9_u02BC.Increment();
			}
			this.\u02BA\u02BB\u02B5\u02B6\u02B3\u02BD\u02BA\u02BC\u02B2\u02BB\u02B5();
		}
		if (this.backgroundObjects[this.\u02B3\u02BF\u02BB\u02BB\u02B5\u02B7\u02B8\u02BE\u02B7\u02B3\u02B3] == null && this.\u02B3\u02BF\u02BB\u02BB\u02B5\u02B7\u02B8\u02BE\u02B7\u02B3\u02B3 != 0)
		{
			this.\u02B7\u02BE\u02BD\u02BF\u02B7\u02BE\u02B4\u02B4\u02BA\u02B9\u02C1 = false;
			this.\u02C1\u02B3\u02BC\u02B6\u02BD\u02B6\u02BF\u02B7\u02BB\u02B5\u02BB();
		}
		base.\u02B2\u02BA\u02B2\u02BC\u02BE\u02B5\u02B4\u02C0\u02BC\u02B6\u02BD();
		this.\u02B7\u02BE\u02BD\u02BF\u02B7\u02BE\u02B4\u02B4\u02BA\u02B9\u02C1 = true;
	}

	public override void \u02B7\u02BA\u02C0\u02B8\u02BE\u02BA\u02BD\u02B4\u02BB\u02B3\u02B6()
	{
		if (this.\u02BE\u02BA\u02B2\u02BB\u02BA\u02B3\u02B2\u02B2\u02B6\u02BF\u02B3 == null)
		{
			this.\u02B7\u02C0\u02BB\u02B6\u02B3\u02C0\u02B9\u02BF\u02B5\u02C0\u02B6 = true;
			this.\u02B7\u02C1\u02BA\u02BA\u02B2\u02B5\u02B7\u02BD\u02BC\u02C1\u02BE(this.\u02B7\u02BE\u02BD\u02BF\u02B7\u02BE\u02B4\u02B4\u02BA\u02B9\u02C1);
			this.\u02C0\u02C1\u02B6\u02BF\u02BF\u02B2\u02B5\u02C0\u02BB\u02BA\u02C1 = true;
		}
		else
		{
			GameSetting u02B7_u02B6_u02B7_u02B8_u02B7_u02B6_u02B5_u02BD_u02C1_u02B9_u02BC = this.\u02B7\u02B6\u02B7\u02B8\u02B7\u02B6\u02B5\u02BD\u02C1\u02B9\u02BC;
			if (u02B7_u02B6_u02B7_u02B8_u02B7_u02B6_u02B5_u02BD_u02C1_u02B9_u02BC != null)
			{
				u02B7_u02B6_u02B7_u02B8_u02B7_u02B6_u02B5_u02BD_u02C1_u02B9_u02BC.Decrement();
			}
			this.\u02BA\u02BB\u02B5\u02B6\u02B3\u02BD\u02BA\u02BC\u02B2\u02BB\u02B5();
		}
		if (this.backgroundObjects[this.\u02B3\u02BF\u02BB\u02BB\u02B5\u02B7\u02B8\u02BE\u02B7\u02B3\u02B3] == null)
		{
			this.\u02B7\u02BE\u02BD\u02BF\u02B7\u02BE\u02B4\u02B4\u02BA\u02B9\u02C1 = false;
			this.\u02B7\u02BA\u02C0\u02B8\u02BE\u02BA\u02BD\u02B4\u02BB\u02B3\u02B6();
		}
		base.\u02B2\u02BA\u02B2\u02BC\u02BE\u02B5\u02B4\u02C0\u02BC\u02B6\u02BD();
		this.\u02B7\u02BE\u02BD\u02BF\u02B7\u02BE\u02B4\u02B4\u02BA\u02B9\u02C1 = true;
	}

	protected override void Update()
	{
		base.Update();
		if (this.\u02BE\u02BA\u02B2\u02BB\u02BA\u02B3\u02B2\u02B2\u02B6\u02BF\u02B3 != null)
		{
			if (Input.GetKeyDown(KeyCode.End))
			{
				GameSetting settingFromString = this.GetSettingFromString(this.\u02BE\u02BA\u02B2\u02BB\u02BA\u02B3\u02B2\u02B2\u02B6\u02BF\u02B3);
				if (settingFromString != null)
				{
					settingFromString.CurrentValue = settingFromString.MaxValue;
					this.\u02BA\u02B4\u02BC\u02BA\u02B7\u02B7\u02B7\u02BE\u02B7\u02C1\u02C0("");
				}
			}
			if (Input.GetKeyDown(KeyCode.Home))
			{
				GameSetting settingFromString2 = this.GetSettingFromString(this.\u02BE\u02BA\u02B2\u02BB\u02BA\u02B3\u02B2\u02B2\u02B6\u02BF\u02B3);
				if (settingFromString2 != null)
				{
					settingFromString2.CurrentValue = settingFromString2.MinValue;
					this.\u02BA\u02B4\u02BC\u02BA\u02B7\u02B7\u02B7\u02BE\u02B7\u02C1\u02C0("");
				}
			}
		}
	}

	protected abstract GameSetting GetSettingFromString(string \u02B6\u02BF\u02C1\u02C0\u02BA\u02B5\u02B3\u02B6\u02B8\u02B9\u02C1);

	public abstract void \u02BA\u02B4\u02BC\u02BA\u02B7\u02B7\u02B7\u02BE\u02B7\u02C1\u02C0(string \u02B6\u02BF\u02C1\u02C0\u02BA\u02B5\u02B3\u02B6\u02B8\u02B9\u02C1 = "");

	public void \u02B7\u02B9\u02BE\u02B8\u02B8\u02BB\u02B2\u02BB\u02B3\u02BC\u02BE(int \u02B8\u02BE\u02BE\u02B4\u02B3\u02B2\u02BF\u02BB\u02B4\u02BE\u02B5, GameSetting \u02BA\u02BB\u02B6\u02B6\u02BF\u02B6\u02BA\u02B9\u02B9\u02BB\u02B7)
	{
		this.\u02B7\u02BA\u02B7\u02C0\u02B9\u02BA\u02B2\u02BF\u02B4\u02BC\u02B4[\u02B8\u02BE\u02BE\u02B4\u02B3\u02B2\u02BF\u02BB\u02B4\u02BE\u02B5].value = (\u02BA\u02BB\u02B6\u02B6\u02BF\u02B6\u02BA\u02B9\u02B9\u02BB\u02B7.GetBoolValue ? 1f : 0f);
		this.\u02B2\u02B6\u02BB\u02B7\u02BE\u02B4\u02B9\u02BF\u02C1\u02BE\u02B5[\u02B8\u02BE\u02BE\u02B4\u02B3\u02B2\u02BF\u02BB\u02B4\u02BE\u02B5].enabled = \u02BA\u02BB\u02B6\u02B6\u02BF\u02B6\u02BA\u02B9\u02B9\u02BB\u02B7.GetBoolValue;
	}

	public void \u02B7\u02B9\u02BE\u02B8\u02B8\u02BB\u02B2\u02BB\u02B3\u02BC\u02BE(int \u02B8\u02BE\u02BE\u02B4\u02B3\u02B2\u02BF\u02BB\u02B4\u02BE\u02B5, bool \u02B6\u02B2\u02B5\u02BB\u02C1\u02BB\u02BA\u02B4\u02BF\u02BA\u02B5)
	{
		this.\u02B7\u02BA\u02B7\u02C0\u02B9\u02BA\u02B2\u02BF\u02B4\u02BC\u02B4[\u02B8\u02BE\u02BE\u02B4\u02B3\u02B2\u02BF\u02BB\u02B4\u02BE\u02B5].value = (\u02B6\u02B2\u02B5\u02BB\u02C1\u02BB\u02BA\u02B4\u02BF\u02BA\u02B5 ? 1f : 0f);
		this.\u02B2\u02B6\u02BB\u02B7\u02BE\u02B4\u02B9\u02BF\u02C1\u02BE\u02B5[\u02B8\u02BE\u02BE\u02B4\u02B3\u02B2\u02BF\u02BB\u02B4\u02BE\u02B5].enabled = \u02B6\u02B2\u02B5\u02BB\u02C1\u02BB\u02BA\u02B4\u02BF\u02BA\u02B5;
	}

	public void \u02BA\u02BC\u02C1\u02BE\u02B4\u02B3\u02BA\u02BC\u02BB\u02C1\u02BB(int \u02B8\u02BE\u02BE\u02B4\u02B3\u02B2\u02BF\u02BB\u02B4\u02BE\u02B5, GameSetting \u02BA\u02BB\u02B6\u02B6\u02BF\u02B6\u02BA\u02B9\u02B9\u02BB\u02B7)
	{
		this.\u02BA\u02B5\u02C1\u02B4\u02B4\u02BF\u02BE\u02C0\u02B9\u02B3\u02B5[\u02B8\u02BE\u02BE\u02B4\u02B3\u02B2\u02BF\u02BB\u02B4\u02BE\u02B5].value = (float)Math.Min(\u02BA\u02BB\u02B6\u02B6\u02BF\u02B6\u02BA\u02B9\u02B9\u02BB\u02B7.CurrentValue, (int)this.\u02BA\u02B5\u02C1\u02B4\u02B4\u02BF\u02BE\u02C0\u02B9\u02B3\u02B5[\u02B8\u02BE\u02BE\u02B4\u02B3\u02B2\u02BF\u02BB\u02B4\u02BE\u02B5].maxValue);
		this.\u02C0\u02B9\u02C0\u02B2\u02B5\u02BA\u02BD\u02BF\u02B2\u02B7\u02B3[\u02B8\u02BE\u02BE\u02B4\u02B3\u02B2\u02BF\u02BB\u02B4\u02BE\u02B5].text = \u02BA\u02BB\u02B6\u02B6\u02BF\u02B6\u02BA\u02B9\u02B9\u02BB\u02B7.GetIntString;
	}

	[SerializeField]
	protected BaseMenu optionsMenu;

	public BaseMenu \u02C1\u02B6\u02B7\u02BC\u02B3\u02BE\u02B3\u02C1\u02B4\u02B2\u02BC;

	protected GameSetting \u02B7\u02B6\u02B7\u02B8\u02B7\u02B6\u02B5\u02BD\u02C1\u02B9\u02BC;

	[HideInInspector]
	public bool \u02B6\u02BE\u02C0\u02BE\u02B3\u02B6\u02C1\u02BD\u02BA\u02C0\u02C1;

	public Image \u02BB\u02C1\u02BD\u02BC\u02BE\u02BA\u02BA\u02B5\u02B9\u02BD\u02BA;

	public TextMeshProUGUI[] \u02B7\u02BE\u02BA\u02B4\u02BB\u02B2\u02B6\u02BA\u02C0\u02B3\u02B9;

	public Slider[] \u02B7\u02BA\u02B7\u02C0\u02B9\u02BA\u02B2\u02BF\u02B4\u02BC\u02B4;

	public Image[] \u02B2\u02B6\u02BB\u02B7\u02BE\u02B4\u02B9\u02BF\u02C1\u02BE\u02B5;

	public Slider[] \u02BA\u02B5\u02C1\u02B4\u02B4\u02BF\u02BE\u02C0\u02B9\u02B3\u02B5;

	public TextMeshProUGUI[] \u02C0\u02B9\u02C0\u02B2\u02B5\u02BA\u02BD\u02BF\u02B2\u02B7\u02B3;

	public Sprite \u02BD\u02BD\u02B6\u02C1\u02B6\u02BD\u02BA\u02B8\u02BE\u02BF\u02B9;

	public Sprite \u02B4\u02BA\u02B4\u02B2\u02B9\u02BF\u02BB\u02BE\u02B2\u02B9\u02B9;

	protected bool \u02BD\u02C0\u02B2\u02B2\u02BD\u02BD\u02C0\u02B7\u02B4\u02B3\u02C0;

	private bool \u02B7\u02BE\u02BD\u02BF\u02B7\u02BE\u02B4\u02B4\u02BA\u02B9\u02C1;
}
